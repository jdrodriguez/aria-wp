@use '../variables' as *;

.aria-knowledge {
	&__notice {
		margin-bottom: $aria-space-6;
	}

	&__search {
		margin-bottom: $aria-space-6;
	}


	&__category-pills {
		display: flex;
		flex-direction: column;
		gap: $aria-space-3;
		margin-bottom: $aria-space-6;
	}

	&__category-label {
		font-size: $aria-text-xs;
		font-weight: $aria-font-semibold;
		text-transform: uppercase;
		letter-spacing: 0.08em;
		color: $aria-gray-500;
	}

	&__category-list {
		display: flex;
		flex-wrap: wrap;
		gap: $aria-space-3;
	}

	&__category-pill {
		display: inline-flex;
		align-items: center;
		gap: $aria-space-2;
		padding: $aria-space-2 $aria-space-4;
		border-radius: $aria-radius-full;
		border: 1px solid $aria-gray-200;
		background: $aria-white;
		color: $aria-gray-600;
		font-size: $aria-text-sm;
		font-weight: $aria-font-medium;
		transition: background-color $aria-transition-base ease,
			color $aria-transition-base ease,
			box-shadow $aria-transition-base ease,
			border-color $aria-transition-base ease;

		&:hover,
		&:focus-visible {
			background: rgba($aria-primary, 0.08);
			color: $aria-primary;
			border-color: rgba($aria-primary, 0.35);
			box-shadow: $aria-shadow-xs;
		}

		&--active {
			background: linear-gradient(
				135deg,
				rgba($aria-primary, 0.18) 0%,
				rgba($aria-primary, 0.12) 100%
			);
			color: $aria-primary-dark;
			border-color: rgba($aria-primary, 0.35);
			box-shadow: $aria-shadow-sm;
		}
	}

	&__category-count {
		min-width: 1.5rem;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		padding: 0 $aria-space-2;
		border-radius: $aria-radius-full;
		background: rgba($aria-gray-900, 0.08);
		color: inherit;
		font-size: $aria-text-xs;
		font-weight: $aria-font-semibold;
	}

	&__entries-list {
		display: flex;
		flex-direction: column;
		gap: $aria-space-4;
	}

	&__empty {
		display: flex;
		flex-direction: column;
		align-items: center;
		text-align: center;
		padding: $aria-space-8 $aria-space-4;
		color: $aria-gray-600;
		gap: $aria-space-4;
	}

	&__empty-icon {
		font-size: $aria-text-4xl;
	}
}

@media (max-width: $aria-screen-md) {
	.aria-knowledge {
		&__search {
			margin-bottom: $aria-space-4;
		}

		&__category-pills {
			margin-bottom: $aria-space-4;
		}
	}
}

.modern-knowledge-card {
	position: relative;
	background: linear-gradient(135deg, $aria-white 0%, $aria-gray-50 100%);
	border: 1px solid $aria-gray-200;
	border-radius: $aria-radius-xl;
	padding: $aria-space-6;
	box-shadow: $aria-shadow-sm;
	transition: transform $aria-transition-base ease, box-shadow $aria-transition-base ease;
	overflow: hidden;

	&:hover {
		transform: translateY(-2px);
		box-shadow: $aria-shadow-md;
	}

	&__pattern {
		position: absolute;
		top: 0;
		right: 0;
		width: 120px;
		height: 120px;
		background: radial-gradient(circle, rgba($aria-primary, 0.06) 0%, transparent 70%);
		border-radius: 50%;
		transform: translate(40%, -40%);
	}

	&__header {
		display: flex;
		align-items: center;
		gap: $aria-space-3;
		margin-bottom: $aria-space-4;
	}

	&__title {
		margin: 0;
		font-size: $aria-text-lg;
		font-weight: $aria-font-bold;
		color: $aria-gray-900;
	}

	&__meta {
		display: flex;
		align-items: center;
		gap: $aria-space-3;
		margin-bottom: $aria-space-4;
		flex-wrap: wrap;
	}

	&__status {
		display: inline-flex;
		align-items: center;
		gap: $aria-space-1;
		padding: $aria-space-1 $aria-space-3;
		border-radius: $aria-radius-full;
		font-size: $aria-text-xs;
		font-weight: $aria-font-semibold;
		letter-spacing: 0.05em;
		text-transform: uppercase;
		background: $aria-gray-100;
		color: $aria-gray-700;
		border: 1px solid $aria-gray-200;

		&--active {
			background: rgba($aria-success, 0.12);
			color: $aria-success;
			border-color: rgba($aria-success, 0.3);
		}

		&--pending_processing,
		&--processing_scheduled {
			background: rgba($aria-warning, 0.15);
			color: $aria-warning;
			border-color: rgba($aria-warning, 0.35);

			&::before {
				content: '';
				display: inline-block;
				width: 6px;
				height: 6px;
				border-radius: 50%;
				background: currentColor;
			}
		}

		&--processing_failed {
			background: rgba($aria-error, 0.12);
			color: $aria-error;
			border-color: rgba($aria-error, 0.3);
		}
	}

	&__chunks {
		font-size: $aria-text-xs;
		color: $aria-gray-600;
	}

	&__category {
		font-size: $aria-text-xs;
		font-weight: $aria-font-semibold;
		padding: $aria-space-1 $aria-space-3;
		border-radius: $aria-radius-full;
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}

	&__date {
		font-size: $aria-text-sm;
		color: $aria-gray-600;
		font-weight: $aria-font-medium;
	}

	&__content {
		margin: 0 0 $aria-space-4 0;
		font-size: $aria-text-sm;
		color: $aria-gray-700;
		line-height: $aria-leading-relaxed;
		max-width: 100%;
		overflow: hidden;
		text-overflow: ellipsis;
		display: -webkit-box;
		-webkit-line-clamp: 3;
		-webkit-box-orient: vertical;
	}

	&__tags {
		display: flex;
		flex-wrap: wrap;
		gap: $aria-space-2;
		margin-bottom: $aria-space-4;
	}

	&__tag {
		font-size: $aria-text-xs;
		padding: $aria-space-1 $aria-space-3;
		border-radius: $aria-radius-full;
		border: 1px solid $aria-gray-200;
		background: $aria-gray-50;
		color: $aria-gray-600;
	}

	&__actions {
		display: flex;
		gap: $aria-space-3;
		flex-wrap: wrap;
	}

	&__button--delete {
		color: $aria-error;
		background: rgba($aria-error-light, 0.6);
		border-color: rgba($aria-error, 0.25);
	}
}
